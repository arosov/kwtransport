[INIT].... → Crawl4AI 0.8.0 
<!-- SOURCE: https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings -->
[Skip to content](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings#start-of-content)
## Navigation Menu
Toggle navigation
[ ](https://github.com/)
[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2FUbiqueInnovation%2Funiffi-kotlin-multiplatform-bindings)
Appearance settings
  * Platform
    * AI CODE CREATION
      * [ GitHub CopilotWrite better code with AI ](https://github.com/features/copilot)
      * [ GitHub SparkBuild and deploy intelligent apps ](https://github.com/features/spark)
      * [ GitHub ModelsManage and compare prompts ](https://github.com/features/models)
      * [ MCP RegistryNewIntegrate external tools ](https://github.com/mcp)
    * DEVELOPER WORKFLOWS
      * [ ActionsAutomate any workflow ](https://github.com/features/actions)
      * [ CodespacesInstant dev environments ](https://github.com/features/codespaces)
      * [ IssuesPlan and track work ](https://github.com/features/issues)
      * [ Code ReviewManage code changes ](https://github.com/features/code-review)
    * APPLICATION SECURITY
      * [ GitHub Advanced SecurityFind and fix vulnerabilities ](https://github.com/security/advanced-security)
      * [ Code securitySecure your code as you build ](https://github.com/security/advanced-security/code-security)
      * [ Secret protectionStop leaks before they start ](https://github.com/security/advanced-security/secret-protection)
    * EXPLORE
      * [Why GitHub](https://github.com/why-github)
      * [Documentation](https://docs.github.com)
      * [Blog](https://github.blog)
      * [Changelog](https://github.blog/changelog)
      * [Marketplace](https://github.com/marketplace)
[View all features](https://github.com/features)
  * Solutions
    * BY COMPANY SIZE
      * [Enterprises](https://github.com/enterprise)
      * [Small and medium teams](https://github.com/team)
      * [Startups](https://github.com/enterprise/startups)
      * [Nonprofits](https://github.com/solutions/industry/nonprofits)
    * BY USE CASE
      * [App Modernization](https://github.com/solutions/use-case/app-modernization)
      * [DevSecOps](https://github.com/solutions/use-case/devsecops)
      * [DevOps](https://github.com/solutions/use-case/devops)
      * [CI/CD](https://github.com/solutions/use-case/ci-cd)
      * [View all use cases](https://github.com/solutions/use-case)
    * BY INDUSTRY
      * [Healthcare](https://github.com/solutions/industry/healthcare)
      * [Financial services](https://github.com/solutions/industry/financial-services)
      * [Manufacturing](https://github.com/solutions/industry/manufacturing)
      * [Government](https://github.com/solutions/industry/government)
      * [View all industries](https://github.com/solutions/industry)
[View all solutions](https://github.com/solutions)
  * Resources
    * EXPLORE BY TOPIC
      * [AI](https://github.com/resources/articles?topic=ai)
      * [Software Development](https://github.com/resources/articles?topic=software-development)
      * [DevOps](https://github.com/resources/articles?topic=devops)
      * [Security](https://github.com/resources/articles?topic=security)
      * [View all topics](https://github.com/resources/articles)
    * EXPLORE BY TYPE
      * [Customer stories](https://github.com/customer-stories)
      * [Events & webinars](https://github.com/resources/events)
      * [Ebooks & reports](https://github.com/resources/whitepapers)
      * [Business insights](https://github.com/solutions/executive-insights)
      * [GitHub Skills](https://skills.github.com)
    * SUPPORT & SERVICES
      * [Documentation](https://docs.github.com)
      * [Customer support](https://support.github.com)
      * [Community forum](https://github.com/orgs/community/discussions)
      * [Trust center](https://github.com/trust-center)
      * [Partners](https://github.com/partners)
  * Open Source
    * COMMUNITY
      * [ GitHub SponsorsFund open source developers ](https://github.com/sponsors)
    * PROGRAMS
      * [Security Lab](https://securitylab.github.com)
      * [Maintainer Community](https://maintainers.github.com)
      * [Accelerator](https://github.com/accelerator)
      * [Archive Program](https://archiveprogram.github.com)
    * REPOSITORIES
      * [Topics](https://github.com/topics)
      * [Trending](https://github.com/trending)
      * [Collections](https://github.com/collections)
  * Enterprise
    * ENTERPRISE SOLUTIONS
      * [ Enterprise platformAI-powered developer platform ](https://github.com/enterprise)
    * AVAILABLE ADD-ONS
      * [ GitHub Advanced SecurityEnterprise-grade security features ](https://github.com/security/advanced-security)
      * [ Copilot for BusinessEnterprise-grade AI features ](https://github.com/features/copilot/copilot-business)
      * [ Premium SupportEnterprise-grade 24/7 support ](https://github.com/premium-support)
  * [Pricing](https://github.com/pricing)


Search or jump to...
# Search code, repositories, users, issues, pull requests...
Search 
Clear
[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)
#  Provide feedback 
We read every piece of feedback, and take your input very seriously.
Include my email address so I can be contacted
Cancel  Submit feedback 
#  Saved searches 
## Use saved searches to filter your results more quickly
Name
Query
To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax). 
Cancel  Create saved search 
[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2FUbiqueInnovation%2Funiffi-kotlin-multiplatform-bindings)
[ Sign up ](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=UbiqueInnovation%2Funiffi-kotlin-multiplatform-bindings)
Appearance settings
Resetting focus
You signed in with another tab or window. [Reload](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings) to refresh your session. You signed out in another tab or window. [Reload](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings) to refresh your session. You switched accounts on another tab or window. [Reload](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings) to refresh your session. Dismiss alert
{{ message }}
[ UbiqueInnovation ](https://github.com/UbiqueInnovation) / **[uniffi-kotlin-multiplatform-bindings](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings) ** Public
  * [ ](https://github.com/login?return_to=%2FUbiqueInnovation%2Funiffi-kotlin-multiplatform-bindings) You must be signed in to change notification settings
  * [ 1 ](https://github.com/login?return_to=%2FUbiqueInnovation%2Funiffi-kotlin-multiplatform-bindings)
  * [ Star  9 ](https://github.com/login?return_to=%2FUbiqueInnovation%2Funiffi-kotlin-multiplatform-bindings)


Fork from <https://gitlab.com/trixnity/uniffi-kotlin-multiplatform-bindings>
### License
[ ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/LICENSE)
[ 9 stars ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/stargazers) [ 1 fork ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/forks) [ Branches ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/branches) [ Tags ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tags) [ Activity ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/activity)
[ Star  ](https://github.com/login?return_to=%2FUbiqueInnovation%2Funiffi-kotlin-multiplatform-bindings)
[ ](https://github.com/login?return_to=%2FUbiqueInnovation%2Funiffi-kotlin-multiplatform-bindings) You must be signed in to change notification settings
  * [ Code ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings)
  * [ Issues 3 ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/issues)
  * [ Pull requests 0 ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/pulls)
  * [ Actions ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/actions)
  * [ Security 0 ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/security)
  * [ Insights ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/pulse)


Additional navigation options
  * [ Code  ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings)
  * [ Issues  ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/issues)
  * [ Pull requests  ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/pulls)
  * [ Actions  ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/actions)
  * [ Security  ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/security)
  * [ Insights  ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/pulse)


# UbiqueInnovation/uniffi-kotlin-multiplatform-bindings
main
[Branches](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/branches)[Tags](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tags)
[](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/branches)[](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tags)
Go to file
Code
Open more actions menu
## Folders and files
Name | Name | Last commit message | Last commit date  
---|---|---|---  
## Latest commit
## History
[189 Commits](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/commits/main/) [](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/commits/main/)189 Commits  
[.github/workflows](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tree/main/.github/workflows "This path skips through empty directories") | [.github/workflows](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tree/main/.github/workflows "This path skips through empty directories") |  |   
[.meta/build-image](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tree/main/.meta/build-image "This path skips through empty directories") | [.meta/build-image](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tree/main/.meta/build-image "This path skips through empty directories") |  |   
[bindgen-bootstrap](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tree/main/bindgen-bootstrap "bindgen-bootstrap") | [bindgen-bootstrap](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tree/main/bindgen-bootstrap "bindgen-bootstrap") |  |   
[bindgen](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tree/main/bindgen "bindgen") | [bindgen](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tree/main/bindgen "bindgen") |  |   
[build-logic](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tree/main/build-logic "build-logic") | [build-logic](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tree/main/build-logic "build-logic") |  |   
[examples](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tree/main/examples "examples") | [examples](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tree/main/examples "examples") |  |   
[gradle](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tree/main/gradle "gradle") | [gradle](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tree/main/gradle "gradle") |  |   
[runtime](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tree/main/runtime "runtime") | [runtime](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tree/main/runtime "runtime") |  |   
[tests](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tree/main/tests "tests") | [tests](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/tree/main/tests "tests") |  |   
[.dockerignore](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/.dockerignore ".dockerignore") | [.dockerignore](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/.dockerignore ".dockerignore") |  |   
[.gitignore](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/.gitignore ".gitignore") | [.gitignore](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/.gitignore ".gitignore") |  |   
[.gitlab-ci.yml](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/.gitlab-ci.yml ".gitlab-ci.yml") | [.gitlab-ci.yml](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/.gitlab-ci.yml ".gitlab-ci.yml") |  |   
[CHANGELOG.md](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/CHANGELOG.md "CHANGELOG.md") | [CHANGELOG.md](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/CHANGELOG.md "CHANGELOG.md") |  |   
[Cargo.lock](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/Cargo.lock "Cargo.lock") | [Cargo.lock](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/Cargo.lock "Cargo.lock") |  |   
[Cargo.toml](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/Cargo.toml "Cargo.toml") | [Cargo.toml](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/Cargo.toml "Cargo.toml") |  |   
[LICENSE](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/LICENSE "LICENSE") | [LICENSE](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/LICENSE "LICENSE") |  |   
[README.md](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/README.md "README.md") | [README.md](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/README.md "README.md") |  |   
[build.gradle.kts](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/build.gradle.kts "build.gradle.kts") | [build.gradle.kts](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/build.gradle.kts "build.gradle.kts") |  |   
[gradle.properties](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/gradle.properties "gradle.properties") | [gradle.properties](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/gradle.properties "gradle.properties") |  |   
[gradlew](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/gradlew "gradlew") | [gradlew](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/gradlew "gradlew") |  |   
[gradlew.bat](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/gradlew.bat "gradlew.bat") | [gradlew.bat](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/gradlew.bat "gradlew.bat") |  |   
[rust-toolchain.toml](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/rust-toolchain.toml "rust-toolchain.toml") | [rust-toolchain.toml](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/rust-toolchain.toml "rust-toolchain.toml") |  |   
[settings.gradle.kts](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/settings.gradle.kts "settings.gradle.kts") | [settings.gradle.kts](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/settings.gradle.kts "settings.gradle.kts") |  |   
View all files  
## Repository files navigation
  * [README](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings)
  * [MPL-2.0 license](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings)


# UniFFI Kotlin Multiplatform bindings
[](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings#uniffi-kotlin-multiplatform-bindings)
[![License](https://camo.githubusercontent.com/4923a584136bcdc13a188c69f328990671a3bd1caa2a6b3b1bd7085be03c0864/68747470733a2f2f696d672e736869656c64732e696f2f6769746c61622f6c6963656e73652f747269786e6974792f756e696666692d6b6f746c696e2d6d756c7469706c6174666f726d2d62696e64696e6773)](https://gitlab.com/trixnity/uniffi-kotlin-multiplatform-bindings/-/blob/main/LICENSE) [![Crates.io](https://camo.githubusercontent.com/0e2852178bd10d0d9b075c03be22c195badd16871eb41adc6c2fabfaa3adb3e7/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f762f756e696666695f62696e6467656e5f6b6f746c696e5f6d756c7469706c6174666f726d)](https://crates.io/crates/uniffi_bindgen_kotlin_multiplatform) [![Gradle Plugin Portal](https://camo.githubusercontent.com/59ea443fc647a033bf55aae3719792909c86ace3c92c0a87de22f903b8968bfe/68747470733a2f2f696d672e736869656c64732e696f2f677261646c652d706c7567696e2d706f7274616c2f762f696f2e6769746c61622e747269786e6974792e756e696666692e6b6f746c696e2e6d756c7469706c6174666f726d)](https://plugins.gradle.org/plugin/io.gitlab.trixnity.uniffi.kotlin.multiplatform) [![Gitlab Build Status](https://camo.githubusercontent.com/5d100bb33b5009f4dadfd0fb5b83b6f6c9e5de9f2ce565a26a7a465656965cc6/68747470733a2f2f696d672e736869656c64732e696f2f6769746c61622f706970656c696e652d7374617475732f747269786e697479253246756e696666692d6b6f746c696e2d6d756c7469706c6174666f726d2d62696e64696e6773)](https://gitlab.com/trixnity/uniffi-kotlin-multiplatform-bindings/-/pipelines/latest)
This project contains Kotlin Multiplatform bindings generation for [UniFFI](https://github.com/mozilla/uniffi-rs).
Currently only the Kotlin targets JVM and Native are supported. JS support would be awesome, but needs WASM support within uniffi.
You can find examples on how to use the bindings in the [tests](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/blob/main/tests) directory.
# How to use
[](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings#how-to-use)
We recommend to first read the [UniFFI user guide](https://mozilla.github.io/uniffi-rs/). If you follow their [tutorial](https://mozilla.github.io/uniffi-rs/Getting_started.html), then you can use the Kotlin Multiplatform bindings as explained bellow during the ["Generating foreign-language bindings" part](https://mozilla.github.io/uniffi-rs/tutorial/foreign_language_bindings.html).
## Quickstart
[](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings#quickstart)
For instructions on how to install the plugin and runtime please refer to [the instructions here](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings#build-and-use-locally).
### Configuration
[](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings#configuration)
Add the following lines to the `build.gradle.kts` file of your project:
```
plugins {
    kotlin("multiplatform")

    id("io.gitlab.trixnity.uniffi.kotlin.multiplatform") version "0.6.0"
    id("io.gitlab.trixnity.cargo.kotlin.multiplatform") version "0.6.0"

    // ...
}

// ...

cargo {
    // the directory where your rust crate is located
    packageDirectory = layout.projectDirectory.dir("rust")
}

// ...

uniffi {
    bindgenFromGitTag("https://gitlab.com/trixnity/uniffi-kotlin-multiplatform-bindings", "v0.6.0")

    generateFromLibrary()
}

// ...

kotlin {
    // ...

    sourceSets {
        commonMain {
            dependencies {
                // Currently necessairy to add the runtime manually
                implementation("ch.ubique.uniffi.runtime:0.1.0")
            }
        }
    }
}
```

Now you're good to go!
## Using the Gradle plugin
[](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings#using-the-gradle-plugin)
This project contains three Gradle plugins:
  * The Cargo plugin (`io.gitlab.trixnity.cargo.kotlin.multiplatform`)
  * The UniFFI plugin (`io.gitlab.trixnity.uniffi.kotlin.multiplatform`)
  * The Rust plugin (`io.gitlab.trixnity.rust.kotlin.multiplatform`)


### The Cargo plugin
[](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings#the-cargo-plugin)
The Cargo plugin is responsible for building and linking the Rust library to your Kotlin project. You can use it even when you are not using UniFFI. If the `Cargo.toml` is located in the project root, you can simply apply the `io.gitlab.trixnity.cargo.kotlin.multiplatform` the plugin.
```
plugins {
    kotlin("multiplatform")
    id("io.gitlab.trixnity.cargo.kotlin.multiplatform") version "0.6.0"
}
```

If the Cargo package is located in another directory, you can configure the path in the `cargo {}` block.
```
cargo {
    // The Cargo package is located in a `rust` subdirectory.
    packageDirectory = layout.projectDirectory.dir("rust")
}
```

Since searching `Cargo.toml` is done by [`cargo locate-project`](https://doc.rust-lang.org/cargo/commands/cargo-locate-project.html), it still works even if you set `packageDirectory` to a subdirectory, but it is not recommended.
```
cargo {
    // This works
    packageDirectory = layout.projectDirectory.dir("rust/src")
}
```

If you want to use Cargo features or customized [Cargo profiles](https://doc.rust-lang.org/cargo/reference/profiles.html), you can configure them in the `cargo {}` block as well.
```
import io.gitlab.trixnity.gradle.cargo.rust.profiles.CargoProfile

cargo {
    features.addAll("foo", "bar")
    debug.profile = CargoProfile("my-debug")
    release.profile = CargoProfile.Bench
}
```

If you want to use different features for each variant (debug or release), you can configure them in the `debug {}` or `release {}` blocks.
```
cargo {
    features.addAll("foo")
    debug {
        // Use "foo", "logging" for debug builds
        features.addAll("logging")
    }
    release {
        // Use "foo", "app-integrity-checks" for release builds
        features.addAll("app-integrity-checks")
    }
}
```

`features` are inherited from the outer block to the inner block. To override this behavior in the inner block, use `.set()` or the `=` operator overloading.
```
cargo {
    features.addAll("foo")
    debug {
        // Use "foo", "logging" for debug builds
        features.addAll("logging")
    }
    release {
        // Use "app-integrity-checks" (not "foo"!) for release builds
        features.set(setOf("app-integrity-checks"))
    }
}
```

For configurations applied to all variants, you can use the `variants {}` block.
```
cargo {
    variants {
        features.addAll("another-feature")
    }
}
```

For Android and Apple platform builds invoked by Xcode, the plugin automatically decides which profile to use. For other targets, you can configure it with the `jvmVariant` or `nativeVariant` properties. When undecidable, these values default to `Variant.Debug`.
```
import io.gitlab.trixnity.gradle.Variant

cargo {
    jvmVariant = Variant.Release
    nativeVariant = Variant.Debug
}
```

Cargo build tasks are configured as the corresponding Kotlin target is added in the `kotlin {}` block. For example, if you don't invoke `androidTarget()` in `kotlin {}`, the Cargo plugin won't configure the Android build task as well.
```
cargo {
    builds.android {
        println("foo") // not executed
    }
}

kotlin {
    // The plugin will react to the targets definition
    jvm()
    linuxX64()
}
```

The Cargo plugin scans all the Rust dependencies using [`cargo metadata`](https://doc.rust-lang.org/cargo/commands/cargo-metadata.html). If you modify Rust source files including those in dependencies defined in the Cargo manifest, the Cargo plugin will rebuild the Cargo project.
For Android builds, the Cargo plugin automatically determines the SDK and the NDK to use based on the property values of the `android {}` block. To use different a NDK version, set `ndkVersion` to that version.
```
android {
    ndkVersion = "26.2.11394342"
}
```

The Cargo plugin also automatically determines the ABI to build based on the value of `android.defaultConfig.ndk.abiFilters`. If you don't want to build for x86 or x86_64, set this to `["arm64-v8a", "armeabi-v7a"]`.
```
android {
    defaultConfig {
        ndk.abiFilters += setOf("arm64-v8a", "armeabi-v7a")
    }
}
```

The Cargo plugin automatically configures environment variables like `ANDROID_HOME` or `CC_<target>` for you, but if you need finer control, you can directly configure the properties of the build task. The build task is accessible in the `builds {}` block.
```
import io.gitlab.trixnity.gradle.cargo.dsl.*

cargo {
    builds {
        // Configure Android builds
        android {
            debug.buildTaskProvider.configure {
                additionalEnvironment.put("CLANG", "/path/to/clang")
            }
        }
        // You can configure for other targets as well
        appleMobile {}
        desktop {}
        jvm {}
        mobile {}
        native {}
        posix {}
        mingw {}
        linux {}
        macos {}
        windows {}
    }
}
```

For JVM builds, the Cargo plugin tries to build all the targets, whether the required toolchains are installed on the current system or not. The list of such targets by the build host is as follows.
Targets | Windows | macOS | Linux  
---|---|---|---  
Android | ✅ | ✅ | ✅  
Apple Mobile | ❌ | ✅ | ❌  
MinGW | ✅ | ✅ | ✅  
macOS | ❌ | ✅ | ❌  
Linux | ✅ | ✅ | ✅  
Visual C++ | ✅ | ❌ | ❌  
To build for specific targets only, you can configure that using the `jvm` property. For example, to build a shared library for the current build host only, set this property to `rustTarget == RustHost.current.rustTarget`.
```
import io.gitlab.trixnity.gradle.RustHost
import io.gitlab.trixnity.gradle.cargo.dsl.*

cargo {
    builds.jvm {
        jvm = (rustTarget == RustHost.current.rustTarget)
    }
}
```

Android local unit tests requires JVM targets to be built, as they run in the host machine's JVM. The Cargo plugin automatically copies the Rust shared library targeting the host machine into Android local unit tests. It also finds projects that depend on the project using the Cargo plugin, and the Rust library will be copied to all projects that directly or indirectly use the Cargo project. If you want to include shared library built for a different platform, you can control that using the `androidUnitTest` property.
```
import io.gitlab.trixnity.gradle.cargo.dsl.*
import io.gitlab.trixnity.gradle.cargo.rust.targets.RustWindowsTarget

cargo {
    builds.jvm {
        // Use Visual C++ X64 for Android local unit tests 
        androidUnitTest = (rustTarget == RustWindowsTarget.X64)
    }
}

kotlin {
    jvm()
    androidTarget()
}
```

Local unit tests are successfully built even if there are no builds with `androidUnitTest` enabled, but you will encounter a runtime error when you invoke a Rust function from Kotlin.
When you build or publish your Rust Android library separately and run Android local unit tests in another build, you also have to reference the JVM version of your library from the Android unit tests.
To build the JVM version, run the `<JVM target name>Jar` task. The name of the JVM target can be configured with the `jvm()` function, which defaults to `"jvm"`. For example, when the name of the JVM target is `"desktop"`:
```
kotlin {
    jvm("desktop")
}
```

the name of the task will be `desktopJar`.
```
# ./gradlew :your:library:<JVM target name>Jar
./gradlew :your:library:desktopJar
```

The build output will be located in `build/libs/<project name>-<JVM target name>.jar`. In the above case, the name of the JAR file will be `<project name>-desktop.jar`. The JAR file then can be referenced using the `files` or the `fileTree` functions.
```
kotlin {
    sourceSets {
        getByName("androidUnitTest") {
            dependencies {
                // implementation(files("<project name>-<JVM target name>.jar"))
                implementation(files("library-desktop.jar"))
                implementation("net.java.dev.jna:jna:5.13.0") // required to run
            }
        }
    }
}
```

The above process can be automated using the `maven-publish` Gradle plugin. It publishes the JVM version of your library separately. For more details about using `maven-publish` with Kotlin Multiplatform, please refer [here](https://kotlinlang.org/docs/multiplatform-publish-lib.html).
To publish your library to the local Maven repository on your system, run the `publishToMavenLocal` task.
```
./gradlew :your:project:publishToMavenLocal
```

In the local repository which is located in `~/.m2`, you will see that multiple artifacts including `<project name>` and `<project name>-<JVM target name>` are generated. To reference it, register the `mavenLocal()` repository and put the artifact name to `implementation()`.
```
repositories {
    mavenLocal()
    // ...
}

kotlin {
    sourceSets {
        getByName("androidUnitTest") {
            dependencies {
                // implementation("<group name>:<project name>-<JVM target name>:<version>")
                implementation("your.library:library-desktop:0.1.0")
                implementation("net.java.dev.jna:jna:5.13.0") // required to run
            }
        }
    }
}
```

### The UniFFI plugin
[](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings#the-uniffi-plugin)
The UniFFI plugin is responsible for generating Kotlin bindings from your Rust package. Here is an example of using the UniFFI plugin to build bindings from the resulting library binary.
```
import io.gitlab.trixnity.gradle.Variant

plugins {
    kotlin("multiplatform")
    id("io.gitlab.trixnity.cargo.kotlin.multiplatform") version "0.1.0"
    id("io.gitlab.trixnity.uniffi.kotlin.multiplatform") version "0.1.0"
}

uniffi {
    // Generate the bindings using library mode.
    generateFromLibrary {
        // The UDL namespace as in the UDL file. Defaults to the library crate name.
        namespace = "my_crate"
        // The name of the build that makes the library to use to generate the bindings. The list of the names can be
        // retrieved with `cargo.builds.names`. If not specified, the UniFFI plugin automatically selects a build.
        build = "AndroidArm64"
        // The variant of the build that makes the library to use. If unspecified, the UniFFI plugin automatically picks
        // one.
        variant = Variant.Debug
    }
}
```

If you want to generate bindings from a UDL file as well, you can specify the path using the `generateFromUdl {}` block.
```
uniffi {
    generateFromUdl {
        namespace = "..."
        build = "..."
        variant = Variant.Debug
        // The UDL file. Defaults to "${crateDirectory}/src/${crateName}.udl".
        udlFile = layout.projectDirectory.file("rust/src/my_crate.udl")
    }
}
```

If you want to run `ktlint` on the generated bindings set `formatCode` to `true`.
```
uniffi {
    formatCode = true
}
```

### The Rust plugin
[](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings#the-rust-plugin)
The Rust plugin is for configuring the Rust toolchain you want to use or linking your Rust library to your Kotlin project. By default, the plugins think `cargo` and `rustup` are installed in `~/.cargo/bin` or a directory registered in the `PATH` environment variable, which is okay for almost everyone.
However, if you have installed `cargo` or `rustup` in another directory, you can provide that information to the plugin via the `rust {}` block. The information in the `rust {}` block is automatically passed to the Cargo or the UniFFI plugins.
```
plugins {
    id("io.gitlab.trixnity.rust.kotlin.multiplatform") version "0.1.0"
}

rust {
    toolchainDirectory = File("/path/to/my/Rust/toolchain")
}
```

The Rust plugin also defines two extension functions `KotlinMultiplatformExtension.hostNativeTarget` and `KotlinNativeCompilation.useRustUpLinker`.
`hostNativeTarget` can be invoked in `kotlin {}` and adds the Kotlin Native target for the build host; it invokes `mingwX64` on Windows, `macosX64` or `macosArm64` on macOS, and `linuxX64` or `linuxArm64` on Linux, though Linux Arm64 build host is not supported yet.
```
import io.gitlab.trixnity.gradle.cargo.dsl.*

kotlin {
    hostNativeTarget()
}
```

`useRustUpLinker` is for Kotlin Native projects referencing a Rust library but not directly using Rust. Since Kotlin Native is shipped with an LLVM older than the one shipped with the Rust toolchain, you may encounter a linker error when building that Kotlin Native project. `useRustUpLinker` automatically finds the LLVM linker distributed with `rustup`, so you can use this when your Rust project emits a linker flag that is not supported by the Kotlin Native LLVM linker.
```
import io.gitlab.trixnity.gradle.cargo.dsl.*

kotlin {
    iosArm64().compilations.getByName("main") {
        useRustUpLinker()
    }
}
```

## Directly using the bindgen CLI
[](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings#directly-using-the-bindgen-cli)
Minimum Rust version required to install `uniffi_bindgen_kotlin_multiplatform` is `1.72`. Newer Rust versions should also work fine.
Install the bindgen:
```
cargo install --bin uniffi-bindgen-kotlin-multiplatform uniffi_bindgen_kotlin_multiplatform@0.1.0
```

Invoke the bindgen:
```
uniffi-bindgen-kotlin-multiplatform --lib-file <path-to-library-file> --out-dir <output-directory> --crate <crate-name> <path-to-udl-file>
```

# Versioning
[](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings#versioning)
`uniffi_bindgen_kotlin_multiplatform` is versioned separately from `uniffi-rs`. UniFFI follows the [SemVer rules from the Cargo Book](https://doc.rust-lang.org/cargo/reference/resolver.html#semver-compatibility) which states "Versions are considered compatible if their left-most non-zero major/minor/patch component is the same". A breaking change is any modification to the Kotlin Multiplatform bindings that demands the consumer of the bindings to make corresponding changes to their code to ensure that the bindings continue to function properly. `uniffi_bindgen_kotlin_multiplatform` is young, and it's unclear how stable the generated bindings are going to be between versions. For this reason, major version is currently 0, and most changes are probably going to bump minor version.
To ensure consistent feature set across external binding generators, `uniffi_bindgen_kotlin_multiplatform` targets a specific `uniffi-rs` version. A consumer using these bindings or any other external bindings (for example, [Go bindings](https://github.com/NordSecurity/uniffi-bindgen-go/) or [C# bindings](https://github.com/NordSecurity/uniffi-bindgen-cs)) expects the same features to be available across multiple bindings generators. This means that the consumer should choose external binding generator versions such that each generator targets the same `uniffi-rs` version.
Here is how `uniffi_bindgen_kotlin_multiplatform` versions are tied to `uniffi-rs` are tied:
uniffi_bindgen_kotlin_multiplatform version | uniffi-rs version  
---|---  
v0.1.0 | v0.25.2  
v0.6.0 | v0.28.3  
# Build and use locally
[](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings#build-and-use-locally)
If you want to work on the bindgen or the Gradle plugin locally, you will have to do some additional Gradle configuration in order to use these local versions in your projects.
## Option 1 - Dynamically include this plugin in your project
[](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings#option-1---dynamically-include-this-plugin-in-your-project)
Clone this repository and reference it from your project. Configure `dependencySubstitution` to use the local plugin version.
```
// settings.gradle.kts
pluginManagement {
    // ..
    includeBuild("../uniffi-kotlin-multiplatform-bindings/build-logic")
    // ...
    plugins {
        // comment out id("io.gitlab.trixnity.uniffi.kotlin.multiplatform") if you have it here
    }
}
// ...
includeBuild("../uniffi-kotlin-multiplatform-bindings/build-logic") {
    dependencySubstitution {
        substitute(module("io.gitlab.trixnity.uniffi.kotlin.multiplatform:gradle-plugin"))
            .using(project(":gradle-plugin"))
        
        substitute(module("ch.ubique.uniffi.runtime"))
            .using(project(":runtime"))
    }
}

includeBuild("../uniffi-kotlin-multiplatform-bindings/runtime") {
    dependencySubstitution {
        substitute(module("ch.ubique.uniffi.runtime"))
            .using(project(":runtime"))
    }
}

```

Add the Gradle plugin to the Gradle build file.
```
// build.gradle.kts
plugins {
    kotlin("multiplatform")
    id("io.gitlab.trixnity.uniffi.kotlin.multiplatform")
    // ...
}
```

Optionally, configure the `uniffi` extension with the exact path to the bindgen of this repository.
```
uniffi {
    // ...
    bindgenFromPath("<path-to-our-bindgen>")
}
```

## Option 2 - Publish the plugin locally
[](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings#option-2---publish-the-plugin-locally)
Clone the repository and build it.
Then invoke:
```
./gradlew :build-logic:gradle-plugin:publishToMavenLocal
./gradlew :runtime:publishToMavenLocal
```

Add the local repository in your project's `settings.gradle.kts`:
```
pluginManagement {
    repositories {
        mavenLocal()
        // ...
    }
}
```

Optionally, configure the `uniffi` extension with the exact path to the bindgen of this repository.
```
uniffi {
    // ...
    bindgenFromPath("<path-to-our-bindgen>")
}
```

You can also install the bindgen from a git remote as well. Use this method if you don't want to keep the source code of this repository on your computer.
```
uniffi {
    bindgenFromGitTag("https://gitlab.com/trixnity/uniffi-kotlin-multiplatform-bindings", "v0.6.0")
}
```

## About
Fork from <https://gitlab.com/trixnity/uniffi-kotlin-multiplatform-bindings>
### Topics
[ rust ](https://github.com/topics/rust "Topic: rust") [ bindings ](https://github.com/topics/bindings "Topic: bindings") [ kmp ](https://github.com/topics/kmp "Topic: kmp") [ kotlin-multiplatform ](https://github.com/topics/kotlin-multiplatform "Topic: kotlin-multiplatform") [ uniffi ](https://github.com/topics/uniffi "Topic: uniffi")
### Resources
[ ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings#readme-ov-file)
### License
[ ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings#MPL-2.0-1-ov-file)
###  Uh oh! 
There was an error while loading. [Please reload this page](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings).
[Activity](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/activity)
[Custom properties](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/custom-properties)
### Stars
[**9** stars](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/stargazers)
### Watchers
[**2** watching](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/watchers)
### Forks
[**1** fork](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/forks)
[ Report repository ](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2FUbiqueInnovation%2Funiffi-kotlin-multiplatform-bindings&report=UbiqueInnovation+%28user%29)
###  Uh oh! 
There was an error while loading. [Please reload this page](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings).
##  [Contributors 3](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/graphs/contributors)
  * [ ![@lebedenko-ubique](https://avatars.githubusercontent.com/u/173672976?s=64&v=4) ](https://github.com/lebedenko-ubique) [ **lebedenko-ubique** Alexey ](https://github.com/lebedenko-ubique)
  * [ ![@ubamrein](https://avatars.githubusercontent.com/u/47777208?s=64&v=4) ](https://github.com/ubamrein) [ **ubamrein** Patrick Amrein ](https://github.com/ubamrein)
  * [ ![@fbzli](https://avatars.githubusercontent.com/u/42637296?s=64&v=4) ](https://github.com/fbzli) [ **fbzli** Florian Buenzli ](https://github.com/fbzli)


## Languages
  * [ Kotlin 64.3% ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/search?l=kotlin)
  * [ Rust 34.5% ](https://github.com/UbiqueInnovation/uniffi-kotlin-multiplatform-bindings/search?l=rust)
  * Other 1.2%


## Footer
[ ](https://github.com) © 2026 GitHub, Inc. 
### Footer navigation
  * [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
  * [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
  * [Security](https://github.com/security)
  * [Status](https://www.githubstatus.com/)
  * [Community](https://github.community/)
  * [Docs](https://docs.github.com/)
  * [Contact](https://support.github.com?tags=dotcom-footer)
  * Manage cookies 
  * Do not share my personal information 




---


